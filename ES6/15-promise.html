<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script src="jquery-3.3.1.js"></script>
<script>
    /*$.get("musicdata.json",function (res) {
        console.log(res);
    });*/

    /*$.get("a.json",function (res) {
        console.log(res);
        $.get("b.json",function (res) {
          console.log(res)  ;
          $.get("c.json",function (res) {
              console.log(res);
          })
        })
    })*/
/*
    let prom = new Promise(function (resolved,rejected) {
        $.get("a.json",function (res) {
            console.log(res);
            // resolved();
            rejected();
        })
    }).then(function () {
        $.get("b.json",function (res) {
            console.log(res);
        })
    }).catch(function () {
        console.log("shibai");
    });

    let prom1 = new Promise(function (resolved,rejected) {
        $.get("a.json",function (res) {
            console.log(res);
            // resolved();
            rejected();
        })
    }).then(function () {
        $.get("b.json",function (res) {
            console.log(res);
        })
    },function () {
        console.log("shibai2")
    })*/

  /*  let prom = function (url,callback) {
        return new Promise(function (resolved,rejected) {
            $.get(url,function (res) {
                if(callback){
                    callback();
                }
                resolved(res);
            })
        })
    };

    prom("a.json").then(function (res) {
        console.log(res);
        return prom("b.json",function () {
            console.log("Aaa");
        });
    }).then(function (res){
        console.log(res);
        return prom("c.json");
    }).then(function (res) {
        console.log(res);
    });
*/
    let prom1 = new Promise(function (resolved,rejected) {
        $.get("a.json",function (res) {
            console.log(res);
            // rejected();
            resolved();
        })
    });
    let prom2 = new Promise(function (resolved,rejected) {
        $.get("b.json",function (res) {
            console.log(res);
            resolved();
            // rejected();
        })
    });
    let prom3 = new Promise(function (resolved,rejected) {
        $.get("c.json",function (res) {
            console.log(res);
            resolved();
            // rejected();
        })
    });

    Promise.all([prom1,prom2,prom3]).then(function () {
        console.log("done");
    },function () {
        console.log("error");
    });

    Promise.race([prom1,prom2,prom3]).then(function () {          /*只要执行完就进行*/
        console.log("done");
    },function () {
        console.log("error");
    });
</script>
</body>
</html>